{
  "permissions": {
    "allow": [
      "Bash(git init:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(gh:*)",
      "Bash(textutil -convert txt:*)",
      "Bash(chmod:*)",
      "Bash(python3:*)",
      "Bash(iconv:*)",
      "Bash(git push:*)",
      "Bash(source:*)",
      "Bash(pip install:*)",
      "Bash(python:*)",
      "Bash(tee:*)",
      "Bash(./scripts/package_for_colab.sh:*)",
      "Bash(bash scripts/package_for_colab.sh:*)",
      "Bash(zip:*)",
      "Bash(ls:*)",
      "WebSearch",
      "WebFetch(domain:www.gutenberg.org)",
      "Bash(curl:*)",
      "Bash(/Users/danielwaterfield/Documents/DigHums/CORPUS_CATALOG.md << 'EOF'\n# 18th-Century Novel Corpus Catalog\n\n## Purpose\nThis catalog documents all texts in the corpus, with special attention to:\n- **Attribution status** \\(named, anonymous, \"By a Lady\", disputed\\)\n- **Publication dates**\n- **Suitability for testing BERT attribution model**\n\n---\n\n## Corpus Summary\n\n**Total Authors:** 13\n**Total Texts:** 28+ texts\n**Date Range:** 1719-1814\n\n---\n\n## Authors & Texts\n\n### 1. Jane Austen \\(1 text\\)\n- ✅ **Pride and Prejudice** \\(1813\\) - Named publication\n- Status: Training corpus\n\n### 2. Frances Burney \\(4 novels, 10+ texts\\)\n- ✅ **Evelina** \\(1778\\) - Published **ANONYMOUSLY** as \"By a Lady\"\n  - Later editions revealed as Burney after success\n  - **Perfect test case for attribution!**\n- ✅ **Cecilia** \\(1782, 3 volumes\\) - Published under Burney's name\n- ✅ **Camilla** \\(1796\\) - Named publication\n- ✅ **The Wanderer** \\(1814, 5 volumes\\) - Named publication\n- Status: Primary subject, training corpus\n\n### 3. Ann Radcliffe \\(6+ texts\\)\n- ✅ **The Castles of Athlin and Dunbayne** \\(1789\\) - Published **ANONYMOUSLY**\n  - Her FIRST novel\n  - No author attribution on original title page\n  - **Excellent test case!**\n- ✅ **A Sicilian Romance** \\(1790\\) - Published as \"By the Authoress of The Castles of Athlin and Dunbayne\"\n  - Still anonymous, but referenced first work\n  - **Good test case for cross-work attribution**\n- ✅ **The Romance of the Forest** \\(1791\\) - Name revealed in 2nd edition\n- ✅ **The Mysteries of Udolpho** \\(1794\\) - Named publication \\(famous by this point\\)\n- ✅ **The Italian** \\(1797, 2 volumes downloaded\\) - Named publication\n- Status: Training corpus + test cases \\(early anonymous works\\)\n\n### 4. Charlotte Smith \\(1 text\\)\n- ✅ **Emmeline, the Orphan of the Castle** \\(1788\\) - Named publication\n  - Gothic precursor, influenced Radcliffe and Austen\n- Status: Corpus expansion \\(adds female Gothic voice\\)\n\n### 5. Eliza Haywood \\(1 text\\)\n- ✅ **Love in Excess** \\(1719-20\\) - Published **ANONYMOUSLY initially**\n  - One of the bestselling novels of 18th century\n  - Later attributed to Haywood\n  - **Potential test case**\n- Status: Corpus expansion \\(early period, female\\)\n\n### 6. Clara Reeve \\(1 text\\)\n- ✅ **The Old English Baron** \\(1777/1778\\) - Named publication\n  - Originally published as \"The Champion of Virtue\" \\(1777\\) anonymously\n  - Revised as \"The Old English Baron\" \\(1778\\) with name\n  - **Potential test if we can find 1777 edition**\n- Status: Corpus expansion \\(female Gothic\\)\n\n### 7. Maria Edgeworth \\(1 text\\)\n- ✅ **Castle Rackrent** \\(1800\\) - Published **ANONYMOUSLY**\n  - First historical novel in English\n  - **Excellent test case!**\n- Status: Training corpus + potential test case\n\n### 8. Samuel Richardson \\(1 text\\)\n- ✅ **Pamela** \\(1740\\) - Published anonymously initially, then named\n- Status: Training corpus\n\n### 9. Henry Fielding \\(1 text\\)\n- ✅ **Tom Jones** \\(1749\\) - Named publication\n- Status: Training corpus\n\n### 10. Tobias Smollett \\(2 texts\\)\n- ✅ **Ferdinand Count Fathom** \\(1753\\) - Named\n- ✅ **Humphry Clinker** \\(1771\\) - Named\n- Status: Training corpus\n\n### 11. Horace Walpole \\(1 text\\)\n- ✅ **The Castle of Otranto** \\(1764\\) - First edition **ANONYMOUS** \\(\"By Onuphrio Muralto\"\\)\n  - Second edition \\(1765\\) revealed as Walpole\n  - Founding text of Gothic novel\n  - **Excellent test case!**\n- Status: Corpus expansion \\(male Gothic\\) + test case\n\n### 12. M.G. Lewis \\(1 text\\)\n- ✅ **The Monk** \\(1796\\) - Initially \"By M.G.L.\"\n  - Later editions fully named\n- Status: Corpus expansion \\(male Gothic, controversial\\)\n\n### 13. William Beckford \\(1 text\\)\n- ✅ **Vathek** \\(1786\\) - Originally published **ANONYMOUSLY** in English\n  - French edition credited to Beckford\n  - Oriental Gothic\n  - **Potential test case**\n- Status: Corpus expansion \\(male Gothic, unusual setting\\)\n\n---\n\n## Test Cases for Attribution Study\n\n### Tier 1: High-Confidence Test Cases \\(Known Anonymous Publications\\)\n\n1. **Frances Burney - Evelina \\(1778\\)**\n   - Published as \"By a Lady\"\n   - Later revealed as Burney after success\n   - Model should identify as Burney based on style\n\n2. **Ann Radcliffe - Castles of Athlin and Dunbayne \\(1789\\)**\n   - Completely anonymous first publication\n   - Model should identify as Radcliffe\n\n3. **Ann Radcliffe - A Sicilian Romance \\(1790\\)**\n   - \"By the Authoress of The Castles...\"\n   - Tests cross-work attribution\n\n4. **Maria Edgeworth - Castle Rackrent \\(1800\\)**\n   - Published anonymously\n   - Model should identify as Edgeworth\n\n5. **Horace Walpole - Castle of Otranto \\(1764, 1st ed\\)**\n   - Published as \"By Onuphrio Muralto\"\n   - Model should identify as Walpole\n\n### Tier 2: Interesting Attribution Questions\n\n6. **Eliza Haywood - Love in Excess \\(1719-20\\)**\n   - Initially anonymous bestseller\n   - Tests early-period attribution\n\n7. **William Beckford - Vathek \\(1786\\)**\n   - Anonymous English edition\n   - Unusual Oriental Gothic style\n\n8. **Clara Reeve - Champion of Virtue \\(1777\\)**\n   - Need to source 1777 anonymous edition\n   - Compare to 1778 named edition\n\n### Tier 3: Disputed/Unknown Cases \\(Future Research\\)\n\n- Search for genuinely disputed 18th-century novels\n- Anonymous \"By a Lady\" works with unknown authors\n- Works initially attributed to wrong authors\n\n---\n\n## Corpus Statistics\n\n### By Gender\n- **Female authors:** 6 \\(Austen, Burney, Radcliffe, Smith, Haywood, Reeve, Edgeworth\\)\n- **Male authors:** 7 \\(Richardson, Fielding, Smollett, Walpole, Lewis, Beckford\\)\n- **Anonymous initially:** ~8 texts \\(many by women\\)\n\n### By Genre\n- **Gothic:** Radcliffe \\(6\\), Walpole \\(1\\), Lewis \\(1\\), Reeve \\(1\\), Beckford \\(1\\) = 10 texts\n- **Domestic/Social:** Burney \\(4\\), Austen \\(1\\), Smith \\(1\\), Edgeworth \\(1\\) = 7 texts\n- **Epistolary:** Richardson \\(1\\), Burney \\(1\\), Smollett \\(1\\) = 3 texts\n- **Picaresque:** Fielding \\(1\\), Smollett \\(2\\) = 3 texts\n- **Amatory:** Haywood \\(1\\)\n\n### By Period\n- **Early \\(1719-1749\\):** Haywood, Richardson, Fielding = 3 texts\n- **Mid \\(1750-1779\\):** Smollett \\(1\\), Walpole, Reeve, Burney \\(1\\) = 4 texts\n- **Late \\(1780-1799\\):** Burney \\(2\\), Radcliffe \\(5\\), Smith, Beckford, Lewis, Camilla = 9 texts\n- **Turn of century \\(1800-1814\\):** Edgeworth, Austen, Burney \\(1\\) = 3 texts\n\n---\n\n## Next Steps\n\n1. **Preprocess new texts** - Run through same pipeline as original corpus\n2. **Update metadata.csv** - Include all new texts\n3. **Retrain model** - Expand to 13 authors instead of 7\n4. **Test on anonymous editions** - Create separate test set from known-anonymous works\n5. **Document findings** - Which anonymous works are correctly attributed?\n\n---\n\n## Sources\n- All texts from Project Gutenberg \\(public domain\\)\n- Internet Archive for specific editions\n- University of Pennsylvania Digital Library\n\nLast updated: 2025-02-10\nEOF)",
      "Bash(/Users/danielwaterfield/Documents/DigHums/burney-attribution/RUN_ANONYMOUS_TEST.md << 'EOF'\n# Running the Anonymous Attribution Test\n\n## What This Tests\n\n**Question:** Can BERT identify authors from their anonymous works?\n\nWe test 3 works that were published anonymously:\n1. **Burney's Evelina \\(1778\\)** - \"By a Lady\"\n2. **Radcliffe's A Sicilian Romance \\(1790\\)** - \"By the Authoress of...\"\n3. **Edgeworth's Castle Rackrent \\(1800\\)** - Anonymous\n\nThese authors are ALREADY in the 7-author training set, so we're testing:\n**Does the model learn authorial signature that transcends publication attribution?**\n\n## Current Status\n\n✅ Test script created: `scripts/test_anonymous_attribution.py`\n❌ Model needed: `models/bert_authorship/final/`\n\n## Options to Get Model\n\n### Option A: Retrain on Google Colab \\(RECOMMENDED - 30 min\\)\n```bash\n# 1. Check if Colab usage limit reset\n# 2. Upload burney_colab_data.zip to Colab\n# 3. Run: python scripts/train_bert.py\n# 4. Download model from Colab to local\n```\n\n**Pros:** Fast \\(30 min\\), free GPU, already worked once\n**Cons:** Depends on Colab availability\n\n### Option B: Train Locally \\(5+ hours\\)\n```bash\ncd /Users/danielwaterfield/Documents/DigHums/burney-attribution\npython scripts/train_bert.py\n```\n\n**Pros:** No dependencies, can run overnight\n**Cons:** Very slow on M1 \\(we killed this before after 5 hours with no progress\\)\n\n### Option C: Use Smaller Model for Quick Test\nCould use a pre-trained BERT and fine-tune for 1 epoch locally just to get SOME results quickly.\n\n## Once Model Is Ready\n\nSimply run:\n```bash\npython scripts/test_anonymous_attribution.py\n```\n\nThis will:\n- Load the 3 anonymous works\n- Chunk them into 512-token segments\n- Run BERT predictions on each chunk\n- Calculate accuracy, confidence scores\n- Show whether model identifies correct authors\n- Save results to `results/anonymous_attribution_test.json`\n\n## Expected Results\n\n**If it works well \\(>80% accuracy\\):**\n- Strong evidence that BERT learns authorial signature\n- Great blog post: \"AI Successfully Identifies Anonymous 18th-Century Authors\"\n- Validates the approach for expanded corpus\n\n**If it's mediocre \\(50-80% accuracy\\):**\n- Still interesting - shows challenges of anonymous attribution\n- Can analyze what the model learned instead\n- Blog post: \"What Happens When AI Tries to Unmask Anonymous Authors\"\n\n**If it fails \\(<50% accuracy\\):**\n- Important negative result\n- Might indicate model memorized content not style\n- Would inform how we expand/improve\n\n## Next Steps After Test\n\nRegardless of results:\n1. Write up findings in Substack post\n2. Share on Twitter/LinkedIn with visualizations\n3. Then expand to 13-author corpus properly\n4. Retrain and do rigorous version for paper\n\n---\n\n**Current blocker:** Need trained model\n**Recommendation:** Try Colab again \\(quickest path to results\\)\nEOF)",
      "Bash(unzip:*)",
      "Bash(python scripts/test_anonymous_attribution.py:*)",
      "Bash(python test_anonymous_attribution.py:*)",
      "Bash(python scripts/test_robustness.py:*)"
    ]
  }
}
